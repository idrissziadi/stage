# سكريبتات إدراج بيانات الأساتذة

## نظرة عامة
هذا المجلد يحتوي على سكريبتات SQL لإدراج مئات من بيانات الأساتذة الحقيقية باللغة العربية في قاعدة البيانات.

## الملفات المتوفرة

### 1. `insert_enseignants_data.sql` - السكريبت الرئيسي
- **عدد الأساتذة:** 91 (واحد لكل مؤسسة تكوين)
- **التوزيع:** يغطي جميع المؤسسات من ID 1 إلى 91
- **الدرجات:** يوزع الأساتذة على الدرجات من ID 12 إلى 18

### 2. `insert_enseignants_additional.sql` - السكريبت الإضافي
- **عدد الأساتذة:** 200+ (إضافي)
- **الهدف:** الوصول إلى 500+ أستاذ
- **التوزيع:** يغطي جميع المؤسسات والدرجات

## متطلبات التشغيل

### قاعدة البيانات
- **اسم قاعدة البيانات:** `formation_db`
- **الترميز:** `utf8mb4` مع `utf8mb4_unicode_ci`
- **الجداول المطلوبة:**
  - `Enseignant` (جدول الأساتذة)
  - `Grade` (جدول الدرجات)
  - `EtablissementFormation` (جدول مؤسسات التكوين)

### البيانات المطلوبة مسبقاً
- **الدرجات:** يجب أن تكون موجودة من ID 12 إلى 18
- **مؤسسات التكوين:** يجب أن تكون موجودة من ID 1 إلى 91

## كيفية التشغيل

### الطريقة الأولى: تشغيل مباشر
```bash
# تشغيل السكريبت الرئيسي
mysql -u username -p formation_db < insert_enseignants_data.sql

# تشغيل السكريبت الإضافي
mysql -u username -p formation_db < insert_enseignants_additional.sql
```

### الطريقة الثانية: من خلال MySQL Workbench
1. افتح MySQL Workbench
2. اتصل بقاعدة البيانات `formation_db`
3. افتح الملف `insert_enseignants_data.sql`
4. اضغط `Ctrl+Shift+Enter` لتشغيل السكريبت
5. كرر نفس العملية مع `insert_enseignants_additional.sql`

### الطريقة الثالثة: من خلال phpMyAdmin
1. افتح phpMyAdmin
2. اختر قاعدة البيانات `formation_db`
3. اذهب إلى تبويب "SQL"
4. انسخ محتوى السكريبت والصقه
5. اضغط "Go" لتشغيله

## بنية البيانات المدخلة

### الحقول المطلوبة
```sql
INSERT INTO Enseignant (
    nom_fr,           -- الاسم العائلي بالفرنسية
    nom_ar,           -- الاسم العائلي بالعربية
    prenom_fr,        -- الاسم الشخصي بالفرنسية
    prenom_ar,        -- الاسم الشخصي بالعربية
    date_naissance,   -- تاريخ الميلاد
    email,            -- البريد الإلكتروني
    telephone,        -- رقم الهاتف
    id_grade,         -- معرف الدرجة (12-18)
    id_etab_formation, -- معرف مؤسسة التكوين (1-91)
    compte_id,        -- معرف الحساب (NULL للجميع)
    createdAt,        -- تاريخ الإنشاء
    updatedAt         -- تاريخ التحديث
) VALUES (...)
```

### خصائص البيانات
- **compte_id:** `NULL` لجميع الأساتذة (كما هو مطلوب)
- **id_grade:** يتراوح من 12 إلى 18
- **id_etab_formation:** يتراوح من 1 إلى 91
- **الأسماء العربية:** أسماء حقيقية ومستخدمة في المغرب العربي
- **البريد الإلكتروني:** تنسيق موحد `nom.prenom@formation.ma`
- **رقم الهاتف:** تنسيق مغربي `+212661234567`

## التحقق من الإدراج

### 1. التحقق من العدد الإجمالي
```sql
SELECT COUNT(*) as total_enseignants FROM Enseignant;
```

### 2. التحقق من التوزيع حسب الدرجة
```sql
SELECT 
    g.designation_fr as grade,
    COUNT(e.id_enseignant) as nombre_enseignants
FROM Enseignant e
JOIN Grade g ON e.id_grade = g.id_grade
GROUP BY e.id_grade, g.designation_fr
ORDER BY e.id_grade;
```

### 3. التحقق من التوزيع حسب المؤسسة
```sql
SELECT 
    ef.nom_fr as etablissement,
    COUNT(e.id_enseignant) as nombre_enseignants
FROM Enseignant e
JOIN EtablissementFormation ef ON e.id_etab_formation = ef.id_etab_formation
GROUP BY e.id_etab_formation, ef.nom_fr
ORDER BY e.id_etab_formation;
```

### 4. التحقق من الأساتذة بدون حسابات
```sql
SELECT COUNT(*) as enseignants_sans_compte 
FROM Enseignant 
WHERE compte_id IS NULL;
```

## ملاحظات مهمة

### ⚠️ تحذيرات
- **احتفظ بنسخة احتياطية** من قاعدة البيانات قبل التشغيل
- **تأكد من وجود الجداول المطلوبة** قبل التشغيل
- **تحقق من وجود الدرجات والمؤسسات** المطلوبة

### ✅ نصائح
- **شغل السكريبتات بالترتيب:** الرئيسي أولاً ثم الإضافي
- **تحقق من النتائج** بعد كل سكريبت
- **استخدم المعاملات** إذا كنت تريد التراجع عن التغييرات

### 🔧 استكشاف الأخطاء
إذا واجهت مشاكل:

1. **خطأ في المفاتيح الأجنبية:**
   - تأكد من وجود الدرجات والمؤسسات
   - تحقق من صحة معرفات الجداول

2. **خطأ في الترميز:**
   - تأكد من أن قاعدة البيانات تدعم `utf8mb4`
   - تحقق من إعدادات الاتصال

3. **خطأ في الصلاحيات:**
   - تأكد من أن المستخدم لديه صلاحيات INSERT
   - تحقق من صلاحيات قاعدة البيانات

## النتائج المتوقعة

### بعد السكريبت الرئيسي
- **عدد الأساتذة:** 91
- **التوزيع:** 1 أستاذ لكل مؤسسة
- **الدرجات:** موزعة على 12-18

### بعد السكريبت الإضافي
- **عدد الأساتذة:** 500+
- **التوزيع:** عدة أساتذة لكل مؤسسة
- **الدرجات:** موزعة بالتساوي

## الدعم والمساعدة

إذا واجهت أي مشاكل أو لديك أسئلة:
1. تحقق من سجلات الأخطاء
2. تأكد من صحة البيانات المدخلة
3. تحقق من بنية قاعدة البيانات
4. راجع متطلبات التشغيل

---

**ملاحظة:** هذه السكريبتات مصممة للبيئات التطويرية والاختبارية. استخدمها بحذر في البيئات الإنتاجية.
